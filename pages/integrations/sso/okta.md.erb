# Single Sign-On with Okta

To add Okta as an SSO provider for your Buildkite organization, you need admin privileges for both Okta and Buildkite.

1. In [Okta](https://www.okta.com/), add Buildkite from the Okta app directory and get the Metadata URL.
1. In your [Buildkite organization settings](https://buildkite.com/organizations/~/sso/new?provider=saml&service=okta) past the Metadata URL in and _Create Provider_.


## Features

* Deactivate Users (SCIM Deprovisioning)

## Configuration instructions

1. [Configure SCIM](/docs/integrations/sso/okta#configuration-instructions-step-1-configure-scim)
2. [Perform a Test Login](/docs/integrations/sso/okta#configuration-instructions-step-2-perform-a-test-login)
3. [Enable the new SSO Provider](/docs/integrations/sso/okta#configuration-instructions-step-3-enable-the-new-sso-provider)


### Step 1. Configure SCIM

<div class="Docs__note">
  <p>This integration with Okta is currently under development and is not available to customers yet.</p>
</div>

Using the SCIM provisioning settings in Okta you can automatically remove user accounts from your Buildkite organization. In Okta this feature is called 'Deactivating' a user, and it is the only SCIM operation Buildkite currently supports.

After creating your SSO Provider in Buildkite, copy the _API token_ and _SCIM URL_ from your Okta SSO Provider Settings:

<%= image "okta-scim-settings.png", width: 1440/2, height: 548/2, alt: "Screenshot of the Buildkite Okta Settings SCIM Deprovisioning section" %>

Return to your Buildkite application in Okta to set up deprovisioning:

1. On the _Provisioning_ tab in the Okta Buildkite application, select _To App_ from the left side menu
1. Edit the _Provisioning to App_ settings, and enable _Create Users_ and _Deactivate Users_
1. Select _Integrations_ from the left side menu
1. Enter the token and URL that you copied from your Buildkite SSO Provider
1. Save and test your settings

### Step 2. Perform a Test Login

Follow the instructions to perform a test login. Performing a test login will verify that SSO is working correctly before you activate it for your organization members.

### Step 3. Enable the new SSO Provider

Once you've performed a test login you can enable your provider. Activating SSO will not force a log out of existing users, but will cause all new or expired sessions to authorize through Okta before organization data can be accessed.

If you need to edit or update your Okta provider settings at any time, you will need to disable the provider first. For more information on disabling a provider, see the [disabling SSO](/docs/integrations/sso#disabling-and-removing-sso) section of the SSO overview.
