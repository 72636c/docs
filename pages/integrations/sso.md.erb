# Introduction to SSO with Buildkite

Single sign-on (SSO) provides authentication or authorisation to a third party site like Buildkite by means of a token from your identity provider.

<%= toc %>

## What types of SSO does Buildkite support?

Buildkite organizations can perform SSO using any identity provider that supports SAML 2.0. OAuth using Google G Suite or Github is also supported.

Buildkite SSO Guides help you to get SSO set up with popular providers, and a Custom SAML provider guide is available for all other identity providers.

## How does SSO work with accounts and organizations?

SSO is an organization-level option, and can be enabled by an organization admin for one domain per organization.

If an organization that you're a member of enables SSO, it will not affect your personal Buildkite account login details. When you access pipelines or anything owned by the organization, you'll be directed through their chosen provider's SSO authentication flow.

To access an organization's content using SSO, you'll need your organization's SSO URL.

Team maintainers will no longer need to invite users to join their organization, anyone who is able to authenticate with the identity provider can access the organization's content.

Team maintainers can still invite users to their Buildkite organisation, and are able to specify whether SSO is 'required' or 'optional' for the invited user. Machine users are able to be invited using the 'optional' flag.

## How do I enable SSO for my organization?

There are two ways an organization admin can enable SSO:

1. Using the SSO Settings section of your Organisation Settings, or
1. Manually create your provider and enable it yourself using GraphQL

You will need to set up your SSO identity provider yourself. There are guides available for several of the commonly used providers. See the provider-specific sections below for further information.

### Using Google G Suite or Github

Google and Github both use OAuth rather than SAML. See the [Google G Suite setup guide](/docs/integrations/sso/g-suite) for a list of the information you'll need to get started.

You can also set up OAuth providers with GraphQL, see our [GraphQL SSO guide](/docs/integrations/sso/sso-setup-with-graphql) for steps and code samples.

 ### Using Okta, OneLogin, ADFS, or a custom SAML Provider

There are guides available for setting up Buildkite with the following SAML identity providers: [Okta](/docs/integrations/sso/okta), [OneLogin](/docs/integrations/sso/onelogin), [Google Cloud Identity](/docs/integrations/sso/g-cloud-identity), [AD FS](/docs/integrations/sso/adfs), and a general guide for [custom identity providers](/docs/integrations/sso/custom-saml).

For more information on the SAML user attributes Buildkite supports, see the [user attributes](/docs/integrations/sso/custom-saml#saml-user-attributes) section of the Custom SAML Guide.

If you'd prefer a manual setup, you can use the Buildkite GraphQL explorer. Check out our guide to [Setting up SSO with GraphQL](/docs/integrations/sso/sso-setup-with-graphql).

## How do I disable SSO?

If you need to edit your SSO settings, temporarily stop logins using SSO, or want to delete your SSO provider, you'll first need to disable it.

There are two ways to disable a provider:

1. Using the 'Disable' button in your SSO provider Settings, or
1. Using [GraphQL](/docs/integrations/sso/sso-setup-with-graphql#disabling-an-sso-provider)

After you've disabled your provider you can edit, delete, or re-enable it.

While disabled, logins will no longer go through your SSO provider. Users accessing your organisation data will be required to log in using a username and password. If users don't have a password for their Buildkite account and need access while SSO is disabled, they can perform a 'Forgotten Password' reset. For assitance with this process, contact your organization admin or Buildkite support.

## Frequently Asked Questions

### Can some people in the organization use SSO and others not?
Yes, team maintainers can select whether a user is 'required' to use SSO or whether it is 'optional'. This setting can be found in the team settings.

### What happens if a person leaves our company?
You will need to manually remove them from your Buildkite organization. This will not affect access to the user's personal account or any other organizations they are a member of.

### Can we enable SSO on multiple domains for one organization?
Yes, by adding multiple identity providers. Each provider supports only one domain, but you can enable as many different identity providers for your organization as you need.

### Is there downtime for my organization while SSO is enabled?
No, there'll be no downtime. All users will be deauthorised and they will be required to authorise with your chosen identity provider when they next try to access your organization.

### Will enabling SSO cause a service interruption?
No, all of your builds, agents, and pipelines will continue to run as normal.

### Does enabling SSO affect billing?
No, enabling SSO will not affect how much you are billed. However, whenever a new user signs in to Buildkite using SSO, they will be added to your organization as if you had invited them.

### Can I sync my identity provider's groups with my Buildkite teams?
Yes, if you're using a SAML identity provider. OAuth providers such as Google G Suite do not support groups.
