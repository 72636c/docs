<!--
  _____   ____    _   _  ____ _______   ______ _____ _____ _______ 
 |  __ \ / __ \  | \ | |/ __ \__   __| |  ____|  __ \_   _|__   __|
 | |  | | |  | | |  \| | |  | | | |    | |__  | |  | || |    | |   
 | |  | | |  | | | . ` | |  | | | |    |  __| | |  | || |    | |   
 | |__| | |__| | | |\  | |__| | | |    | |____| |__| || |_   | |   
 |_____/ \____/  |_| \_|\____/  |_|    |______|_____/_____|  |_|   

This file is auto-generated by script/update-agent-help.sh, please update the
agent CLI help in https://github.com/buildkite/agent and run the generation
script.

-->

## Usage

`buildkite-agent bootstrap [options...]`

## Description

The bootstrap command executes a buildkite job locally.

Generally the bootstrap command is run as a sub-process of the buildkite-agent to execute
a given job sent from buildkite.com, but you can also invoke the bootstrap manually.

Execution is broken down into phases. By default, the bootstrap runs a plugin phase which
sets up any plugins specified, then a checkout phase which pulls down your code and then a
command phase that executes the specified command in the created environment.

You can run only specific phases with the --phases flag.

The bootstrap is also responsible for executing hooks around the phases.
See https://buildkite.com/docs/agent/v3/hooks for more details.

## Example

    $ eval $(curl -s -H "Authorization: Bearer xxx" \
        "https://api.buildkite.com/v2/organizations/[org]/pipelines/[proj]/builds/[build]/jobs/[job]/env.txt" | sed 's/^/export /')
    $ buildkite-agent bootstrap --build-path builds

## Options

<!-- vale off -->
<table class="Docs__attribute__table">
<tr id="command"><th><code>--command value</code> <a class="Docs__attribute__link" href="#command">#</a></th><td><p>The command to run</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_COMMAND</code></td>
<tr id="job"><th><code>--job value</code> <a class="Docs__attribute__link" href="#job">#</a></th><td><p>The ID of the job being run</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_JOB_ID</code></td>
<tr id="repository"><th><code>--repository value</code> <a class="Docs__attribute__link" href="#repository">#</a></th><td><p>The repository to clone and run the job from</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_REPO</code></td>
<tr id="commit"><th><code>--commit value</code> <a class="Docs__attribute__link" href="#commit">#</a></th><td><p>The commit to checkout in the repository</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_COMMIT</code></td>
<tr id="branch"><th><code>--branch value</code> <a class="Docs__attribute__link" href="#branch">#</a></th><td><p>The branch the commit is in</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BRANCH</code></td>
<tr id="tag"><th><code>--tag value</code> <a class="Docs__attribute__link" href="#tag">#</a></th><td><p>The tag the commit</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_TAG</code></td>
<tr id="refspec"><th><code>--refspec value</code> <a class="Docs__attribute__link" href="#refspec">#</a></th><td><p>Optional refspec to override git fetch</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_REFSPEC</code></td>
<tr id="plugins"><th><code>--plugins value</code> <a class="Docs__attribute__link" href="#plugins">#</a></th><td><p>The plugins for the job</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PLUGINS</code></td>
<tr id="pullrequest"><th><code>--pullrequest value</code> <a class="Docs__attribute__link" href="#pullrequest">#</a></th><td><p>The number/id of the pull request this commit belonged to</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PULL_REQUEST</code></td>
<tr id="agent"><th><code>--agent value</code> <a class="Docs__attribute__link" href="#agent">#</a></th><td><p>The name of the agent running the job</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_NAME</code></td>
<tr id="queue"><th><code>--queue value</code> <a class="Docs__attribute__link" href="#queue">#</a></th><td><p>The name of the queue the agent belongs to, if tagged</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_META_DATA_QUEUE</code></td>
<tr id="organization"><th><code>--organization value</code> <a class="Docs__attribute__link" href="#organization">#</a></th><td><p>The slug of the organization that the job is a part of</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_ORGANIZATION_SLUG</code></td>
<tr id="pipeline"><th><code>--pipeline value</code> <a class="Docs__attribute__link" href="#pipeline">#</a></th><td><p>The slug of the pipeline that the job is a part of</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PIPELINE_SLUG</code></td>
<tr id="pipeline-provider"><th><code>--pipeline-provider value</code> <a class="Docs__attribute__link" href="#pipeline-provider">#</a></th><td><p>The id of the SCM provider that the repository is hosted on</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PIPELINE_PROVIDER</code></td>
<tr id="artifact-upload-paths"><th><code>--artifact-upload-paths value</code> <a class="Docs__attribute__link" href="#artifact-upload-paths">#</a></th><td><p>Paths to files to automatically upload at the end of a job</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_ARTIFACT_PATHS</code></td>
<tr id="artifact-upload-destination"><th><code>--artifact-upload-destination value</code> <a class="Docs__attribute__link" href="#artifact-upload-destination">#</a></th><td><p>A custom location to upload artifact paths to (i.e. s3://my-custom-bucket)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_ARTIFACT_UPLOAD_DESTINATION</code></td>
<tr id="clean-checkout"><th><code>--clean-checkout </code> <a class="Docs__attribute__link" href="#clean-checkout">#</a></th><td><p>Whether or not the bootstrap should remove the existing repository before running the command</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_CLEAN_CHECKOUT</code></td>
<tr id="git-clone-flags"><th><code>--git-clone-flags value</code> <a class="Docs__attribute__link" href="#git-clone-flags">#</a></th><td><p>Flags to pass to "git clone" command (default: "-v")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLONE_FLAGS</code></td>
<tr id="git-clone-mirror-flags"><th><code>--git-clone-mirror-flags value</code> <a class="Docs__attribute__link" href="#git-clone-mirror-flags">#</a></th><td><p>Flags to pass to "git clone" command when mirroring (default: "-v")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLONE_MIRROR_FLAGS</code></td>
<tr id="git-clean-flags"><th><code>--git-clean-flags value</code> <a class="Docs__attribute__link" href="#git-clean-flags">#</a></th><td><p>Flags to pass to "git clean" command (default: "-ffxdq")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_CLEAN_FLAGS</code></td>
<tr id="git-fetch-flags"><th><code>--git-fetch-flags value</code> <a class="Docs__attribute__link" href="#git-fetch-flags">#</a></th><td><p>Flags to pass to "git fetch" command</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_FETCH_FLAGS</code></td>
<tr id="git-mirrors-path"><th><code>--git-mirrors-path value</code> <a class="Docs__attribute__link" href="#git-mirrors-path">#</a></th><td><p>Path to where mirrors of git repositories are stored</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_MIRRORS_PATH</code></td>
<tr id="git-mirrors-lock-timeout"><th><code>--git-mirrors-lock-timeout value</code> <a class="Docs__attribute__link" href="#git-mirrors-lock-timeout">#</a></th><td><p>Seconds to lock a git mirror during clone, should exceed your longest checkout (default: 300)</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_MIRRORS_LOCK_TIMEOUT</code></td>
<tr id="bin-path"><th><code>--bin-path value</code> <a class="Docs__attribute__link" href="#bin-path">#</a></th><td><p>Directory where the buildkite-agent binary lives</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BIN_PATH</code></td>
<tr id="build-path"><th><code>--build-path value</code> <a class="Docs__attribute__link" href="#build-path">#</a></th><td><p>Directory where builds will be created</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BUILD_PATH</code></td>
<tr id="hooks-path"><th><code>--hooks-path value</code> <a class="Docs__attribute__link" href="#hooks-path">#</a></th><td><p>Directory where the hook scripts are found</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_HOOKS_PATH</code></td>
<tr id="plugins-path"><th><code>--plugins-path value</code> <a class="Docs__attribute__link" href="#plugins-path">#</a></th><td><p>Directory where the plugins are saved to</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PLUGINS_PATH</code></td>
<tr id="command-eval"><th><code>--command-eval </code> <a class="Docs__attribute__link" href="#command-eval">#</a></th><td><p>Allow running of arbitrary commands</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_COMMAND_EVAL</code></td>
<tr id="plugins-enabled"><th><code>--plugins-enabled </code> <a class="Docs__attribute__link" href="#plugins-enabled">#</a></th><td><p>Allow plugins to be run</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PLUGINS_ENABLED</code></td>
<tr id="plugin-validation"><th><code>--plugin-validation </code> <a class="Docs__attribute__link" href="#plugin-validation">#</a></th><td><p>Validate plugin configuration</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PLUGIN_VALIDATION</code></td>
<tr id="local-hooks-enabled"><th><code>--local-hooks-enabled </code> <a class="Docs__attribute__link" href="#local-hooks-enabled">#</a></th><td><p>Allow local hooks to be run</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_LOCAL_HOOKS_ENABLED</code></td>
<tr id="ssh-keyscan"><th><code>--ssh-keyscan </code> <a class="Docs__attribute__link" href="#ssh-keyscan">#</a></th><td><p>Automatically run ssh-keyscan before checkout</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_SSH_KEYSCAN</code></td>
<tr id="git-submodules"><th><code>--git-submodules </code> <a class="Docs__attribute__link" href="#git-submodules">#</a></th><td><p>Enable git submodules</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_GIT_SUBMODULES</code></td>
<tr id="pty"><th><code>--pty </code> <a class="Docs__attribute__link" href="#pty">#</a></th><td><p>Run jobs within a pseudo terminal</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_PTY</code></td>
<tr id="shell"><th><code>--shell value</code> <a class="Docs__attribute__link" href="#shell">#</a></th><td><p>The shell to use to interpret build commands (default: "/bin/bash -e -c")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_SHELL</code></td>
<tr id="phases"><th><code>--phases value</code> <a class="Docs__attribute__link" href="#phases">#</a></th><td><p>The specific phases to execute. The order they're defined is irrelevant.</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_BOOTSTRAP_PHASES</code></td>
<tr id="cancel-signal"><th><code>--cancel-signal value</code> <a class="Docs__attribute__link" href="#cancel-signal">#</a></th><td><p>The signal to use for cancellation (default: "SIGTERM")</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_CANCEL_SIGNAL</code></td>
<tr id="redacted-vars"><th><code>--redacted-vars value</code> <a class="Docs__attribute__link" href="#redacted-vars">#</a></th><td><p>Pattern of environment variable names containing sensitive values</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_REDACTED_VARS</code></td>
<tr id="tracing-backend"><th><code>--tracing-backend value</code> <a class="Docs__attribute__link" href="#tracing-backend">#</a></th><td><p>The name of the tracing backend to use.</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_TRACING_BACKEND</code></td>
<tr id="debug"><th><code>--debug </code> <a class="Docs__attribute__link" href="#debug">#</a></th><td><p>Enable debug mode</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_DEBUG</code></td>
<tr id="experiment"><th><code>--experiment value</code> <a class="Docs__attribute__link" href="#experiment">#</a></th><td><p>Enable experimental features within the buildkite-agent</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_EXPERIMENT</code></td>
<tr id="profile"><th><code>--profile value</code> <a class="Docs__attribute__link" href="#profile">#</a></th><td><p>Enable a profiling mode, either cpu, memory, mutex or block</p><br /><strong>Environment variable</strong>:</b> <code>$BUILDKITE_AGENT_PROFILE</code></td>
</table>
<!-- vale on -->
