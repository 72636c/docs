<!--
  _____   ____    _   _  ____ _______   ______ _____ _____ _______ 
 |  __ \ / __ \  | \ | |/ __ \__   __| |  ____|  __ \_   _|__   __|
 | |  | | |  | | |  \| | |  | | | |    | |__  | |  | || |    | |   
 | |  | | |  | | | . ` | |  | | | |    |  __| | |  | || |    | |   
 | |__| | |__| | | |\  | |__| | | |    | |____| |__| || |_   | |   
 |_____/ \____/  |_| \_|\____/  |_|    |______|_____/_____|  |_|   

This file is auto-generated by script/update-agent-help.sh, please update the
agent CLI help in https://github.com/buildkite/agent and run the generation
script.

-->

### Usage

`buildkite-agent artifact download [options] <query> <destination>`

### Description

Downloads artifacts matching &lt;query&gt; from Buildkite to &lt;destination&gt;
directory on the local machine.

Note: You need to ensure that your search query is surrounded by quotes if
using a wild card as the built-in shell path globbing will expand the wild
card and break the query.

If the last path component of &lt;destination&gt; matches the first path component
of your &lt;query&gt;, the last component of &lt;destination&gt; is dropped from the
final path. For example, a query of &#39;app/logs/*&#39; with a destination of
&#39;foo/app&#39; will write any matched artifact files to &#39;foo/app/logs/&#39;, relative
to the current working directory.

You can also change working directory to the intended destination and use a
&lt;destination&gt; of &#39;.&#39; to always create a directory hierarchy matching the
artifact paths.

### Example

    $ buildkite-agent artifact download "pkg/*.tar.gz" . --build xxx

This will search across all the artifacts for the build with files that match that part.
The first argument is the search query, and the second argument is the download destination.

If you&#39;re trying to download a specific file, and there are multiple artifacts from different
jobs, you can target the particular job you want to download the artifact from:

    $ buildkite-agent artifact download "pkg/*.tar.gz" . --step "tests" --build xxx

You can also use the step&#39;s jobs id (provided by the environment variable $BUILDKITE_JOB_ID)

### Options

<table>
<tr><td><code>--step value</code></td><td><p>Scope the search to a particular step by using either its name or job ID</p><br /><b>ENV:</b> <code></code></td>
<tr><td><code>--build value</code></td><td><p>The build that the artifacts were uploaded to</p><br /><b>ENV:</b> <code>$BUILDKITE_BUILD_ID</code></td>
<tr><td><code>--include-retried-jobs</code></td><td><p>Include artifacts from retried jobs in the search</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_INCLUDE_RETRIED_JOBS</code></td>
<tr><td><code>--agent-access-token value</code></td><td><p>The access token used to identify the agent</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_ACCESS_TOKEN</code></td>
<tr><td><code>--endpoint value</code></td><td><p>The Agent API endpoint (default: "<code>https://agent.buildkite.com/v3</code>")</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_ENDPOINT</code></td>
<tr><td><code>--no-http2</code></td><td><p>Disable HTTP2 when communicating with the Agent API.</p><br /><b>ENV:</b> <code>$BUILDKITE_NO_HTTP2</code></td>
<tr><td><code>--debug-http</code></td><td><p>Enable HTTP debug mode, which dumps all request and response bodies to the log</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_DEBUG_HTTP</code></td>
<tr><td><code>--no-color</code></td><td><p>Don't show colors in logging</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_NO_COLOR</code></td>
<tr><td><code>--debug</code></td><td><p>Enable debug mode</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_DEBUG</code></td>
<tr><td><code>--experiment value</code></td><td><p>Enable experimental features within the buildkite-agent</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_EXPERIMENT</code></td>
<tr><td><code>--profile value</code></td><td><p>Enable a profiling mode, either cpu, memory, mutex or block</p><br /><b>ENV:</b> <code>$BUILDKITE_AGENT_PROFILE</code></td>
</table>
