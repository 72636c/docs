# SSO with OneLogin

OneLogin can be used to authorize access to your Buildkite organization.

## Setting up SSO

Setting up SSO with OneLogin requires organization administrator privileges in both OneLogin and Buildkite. OneLogin provides support for 'groups', which can be set up inside your OneLogin account.

Self-service SSO provisioning in Buildkite is available via our GraphQL explorer. For further information, see the [GraphQL SSO Setup Guide](/docs/tutorials/graphql-sso). 

### Setup on the OneLogin website
The instructions below guide you through adding the Buildkite app to your OneLogin account, and emailing the OneLogin-specific account details to Buildkite.

Before starting your OneLogin setup:
Email the Buildkite team at support@buildkite.com to request your unique SSO service URL, you will need this when setting up your OneLogin App.

OneLogin App setup:
1. In the 'Apps' tab of your OneLogin organization's Admin area, select the 'Add App' button to search the OneLogin directory
1. Search for 'Buildkite'
1. Add the Buildkite app to your OneLogin account
2. Click on the 'Configuration' tab of your new Buildkite application
3. Enter your Buildkite organization slug
4. Click the 'Save' button in the top right to save your configuration
1. Email support@buildkite.com with the following SSO and OneLogin information:

<table>
    <tr>
        <td>Domain name</td>
        <td>
          The domain you use with OneLogin for which you want to enable SSO. This must match one of the emails you have verified with your Buildkite account.
        </td>
    </tr>
    <tr>
        <td>organization slug</td>
        <td>
          The Buildkite organization for which you want to enable SSO.  
        </td>
    </tr>
    <tr>
        <td>SAML 2.0 Endpoint (HTTP)</td>
        <td>
            <ol>
                <li>In the 'Company Apps' page of OneLogin, click on the Buildkite app</li>
                <li>Click on the 'SSO' tab at the top of the page</li>
                <li>Copy the URL labeled `SAML 2.0 Endpoint (HTTP)`</li>
                <li>Paste this URL into your email to Buildkite</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>Issuer URL</td>
        <td>
            <ol>
                <li>Also on the SSO tab of the OneLogin Buildkite app, copy the URL labeled `Issuer URL`</li>
                <li>Paste this URL into your email to Buildkite</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>X.509 certificate</td>
        <td>
            <ol>
                <li>Also on the SSO tab of the OneLogin Buildkite app, click the 'View Details' link under the 'X.509 certificate'</li>
                <li>Under the section 'X.509 Certificate', select 'X.509 PEM' from the dropdown list of file types</li>
                <li>Click the 'Download' button</li>
                <li>Attach the downloaded certificate to your email to Buildkite</li>
            </ol>
        </td>
    </tr>
</table>

When we receive your email, the Buildkite team will:

1. Enable SSO for the specified organization
1. Reply to your email and get you to test that it's all working
1. Deauthorize all the users in the organization, so that everyone will authorize via OneLogin next time they attempt to access that organization on Buildkite.com